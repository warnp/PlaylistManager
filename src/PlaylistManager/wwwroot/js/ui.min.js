'use strict';

//var React = require("react");
//var $ = require("jquery");

var content = $.ajax({
    url: 'https://api.deezer.com/user/4398801/playlists?output=jsonp',
    dataType: 'jsonp',
    error: function error(xhr, status, err) {
        console.log(err);
    }
});

var data = [];
var MusicList = React.createClass({
    displayName: 'MusicList',

    render: function render() {
        var musicNode = this.props.data.map(function (playlist) {
            return React.createElement(
                'li',
                { role: 'presentation', key: playlist.id },
                React.createElement(
                    'a',
                    { href: '#' + playlist.title, role: 'tab' },
                    playlist.title
                )
            );
        });
        return React.createElement(
            'ul',
            { className: 'musicList nav nav-tabs', role: 'tablist' },
            musicNode
        );
    }
});

var TabContent = React.createClass({
    displayName: 'TabContent',

    render: function render() {
        var contentNode = this.props.data.map(function (playlist) {
            return React.createElement('div', { key: playlist.id, role: 'tabpanel', className: 'tab-pane', id: playlist.title });
        });
        return React.createElement(
            'div',
            { className: 'TabContent tab-content' },
            contentNode
        );
    }
});

var Container = React.createClass({
    displayName: 'Container',

    getInitialState: function getInitialState() {
        return { data: [] };
    },
    componentDidMount: function componentDidMount() {
        var r = this;
        content.done(function (data) {
            console.log(data);
            r.setState(data);
        });
        console.log("done");
    },
    render: function render() {
        return React.createElement(
            'div',
            { className: 'container' },
            React.createElement(MusicList, { data: this.state.data }),
            React.createElement(TabContent, { data: this.state.data })
        );
    }
});

ReactDOM.render(React.createElement(Container, { data: data }), document.getElementById('content'));